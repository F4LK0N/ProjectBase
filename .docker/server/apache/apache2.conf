########################################################################################################################
### SERVER ###
########################################################################################################################
ServerName 127.0.0.1
#ServerRoot "/etc/apache2"
#Mutex file:${APACHE_LOCK_DIR} default
HostnameLookups Off
AddDefaultCharset UTF-8

########################################################################################################################
### RUN ###
########################################################################################################################
DefaultRuntimeDir ${APACHE_RUN_DIR}
PidFile ${APACHE_PID_FILE}

########################################################################################################################
### ACCESS ###
########################################################################################################################
Timeout 600
KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 5

########################################################################################################################
### USERS ###
########################################################################################################################
User ${APACHE_RUN_USER}
Group ${APACHE_RUN_GROUP}

########################################################################################################################
### LOGS AND ERRORS ###
########################################################################################################################
ErrorLog ${APACHE_LOG_DIR}/error.log
LogLevel debug
#LogLevel info
#LogLevel warn
#LogLevel error

LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
LogFormat "%h %l %u %t \"%r\" %>s %O" common
LogFormat "%{Referer}i -> %U" referer
LogFormat "%{User-agent}i" agent

########################################################################################################################
### MODULES ###
########################################################################################################################
Include mods-availables/access_compact.load

Include mods-availables/alias.load
Include mods-availables/alias.conf

Include mods-availables/auth_basic.load

Include mods-availables/authn_core.load
Include mods-availables/authn_file.load

Include mods-availables/authz_core.load
Include mods-availables/authz_host.load
Include mods-availables/authz_user.load

Include mods-availables/autoindex.load
Include mods-availables/autoindex.conf

Include mods-availables/deflete.load
Include mods-availables/deflete.conf

Include mods-availables/dir.load
Include mods-availables/dir.conf

Include mods-availables/env.load

Include mods-availables/filter.load

Include mods-availables/mime.load
Include mods-availables/mime.conf

Include mods-availables/mpm_prefork.load
Include mods-availables/mpm_prefork.conf

Include mods-availables/negotiation.load
Include mods-availables/negotiation.conf

Include mods-availables/php.load

Include mods-availables/reqtimeout.load
Include mods-availables/reqtimeout.conf

Include mods-availables/setenvif.load
Include mods-availables/setenvif.conf

Include mods-availables/status.load
Include mods-availables/status.conf

########################################################################################################################
### PORTS ###
########################################################################################################################
Listen 80

<IfModule ssl_module>
	Listen 443
</IfModule>

<IfModule mod_gnutls.c>
	Listen 443
</IfModule>

########################################################################################################################
### DIRECTORIES SECURITY ###
########################################################################################################################
<Directory />
        Options FollowSymLinks
        AllowOverride None
        Require all denied
</Directory>
<Directory /usr/share>
        AllowOverride None
        Require all granted
</Directory>
<Directory /var/www/>
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
</Directory>
#<Directory /srv/>
#       Options Indexes FollowSymLinks
#       AllowOverride None
#       Require all granted
#</Directory>

########################################################################################################################
### LOCAL CONFIG FILES ###
########################################################################################################################
AccessFileName .htaccess
<FilesMatch "^\.ht">
        Require all denied
</FilesMatch>








# Include generic snippets of statements
IncludeOptional conf-enabled/*.conf

# Include the virtual host configurations:
IncludeOptional sites-enabled/*.conf
